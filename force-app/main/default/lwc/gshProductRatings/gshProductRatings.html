<template>
    <!-- <div lwc:if={isLoaded}>
        <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
    </div> -->
    <lightning-layout vertical-align="center">
        <lightning-layout-item class="slds-text-title_caps slds-var-m-vertical_large heading">
            Reviews and Ratings
        </lightning-layout-item>
    </lightning-layout>
    <lightning-layout if:false={reviewExists} class="slds-m-bottom_large">
        <lightning-layout-item class="slds-align_absolute-center slds-text-heading_medium slds-var-m-bottom_x-large">
            There is No Reviews at the moment.
        </lightning-layout-item>
    </lightning-layout>
    <lightning-layout if:true={reviewExists} class="slds-m-bottom_large slds-border_bottom slds-var-p-horizontal_medium">
        <lightning-layout-item class="scrollable-section">
            <lightning-layout multiple-rows="true" class="slds-var-p-vertical_medium" for:each={allReviews} for:item="review" key={review.id}>
                <lightning-layout-item size="1" class="img-container">
                    <img class="img-dp" src={review.Customer_Name__r.Profile_Pic__c} alt="Profile Pic">
                </lightning-layout-item>
                <lightning-layout-item size="11" class="">
                    <lightning-layout multiple-rows="true" class="slds-var-p-left_small">
                        <lightning-layout-item size="12" class="product-rating">
                            <c-gsh-rating-stars rating-stars={review.Stars__c}
                                onstarratingchange={handleStarRatingChange}></c-gsh-rating-stars>
                        </lightning-layout-item>
                        <lightning-layout-item size="12" class="review-name">
                            <div class="review-name-user">{review.Customer_Name__r.Name}</div>
                            <div class="review-name-date">{review.formattedDate}</div>
                        </lightning-layout-item>
                        <lightning-layout-item size="12" class="review-text">
                            {review.Review__c}
                        </lightning-layout-item>
                    </lightning-layout>
                </lightning-layout-item>
            </lightning-layout>
        </lightning-layout-item>
    </lightning-layout>
</template>